import{s as w,j as l,t as k}from"./transform.D34fbgXt.js";import{l as $,a as B,b as C,c as E,u as M,m as N,p as F,f as q}from"./map.Crg4iWOe.js";import{r as p}from"./index.BVOCwoKb.js";import{s as b}from"./styles_module.578ca2c5.LHoo9YdD.js";import{r as _}from"./range.DLCk2Tlt.js";import{r as I}from"./range.OtVwhkKS.js";const t={container:{class:"flex flex-col "},display:{width:300,height:200,class:"p-0  mb-0 w-full h-auto"},controls:{width:300,height:60,class:"d3-widgets p-0  mb-0 w-full h-auto",grid:{x:8,y:4}},widgets:{buttons:[{id:"play_pause",actions:["play","pause"],value:0,position:{x:2,y:2}},{id:"reset",actions:["rewind"],value:0,position:{x:6,y:2}}]},plot:{margin:{l:30,r:30,t:10,b:30},xr:[-10,10],yr:[0,.5],xaxis:{label:"x",label_position:{x:280,y:190},fontsize:"20px"},yaxis:{label:"p(x,t)",label_position:{x:175,y:20},fontsize:"20px"}}},y=$().domain(t.plot.xr).range([t.plot.margin.l,t.display.width-t.plot.margin.r]),m=$().domain(t.plot.yr).range([t.display.height-t.plot.margin.b,t.plot.margin.t]),L=B(y),P=C(m),x=E().x(s=>y(s.x)).y(s=>m(s.y)),u=(s,n)=>1/Math.sqrt(2*Math.PI*n)*Math.exp(-s*s/(2*n)),i=t.plot.xr,c=.01;var d=c;const T=.01;var v={},e=_(i[0],i[1],.01).map(s=>({x:s,y:u(s,c)}));function K({id:s}){const n=p.useRef(null),h=p.useRef(null),g=p.useRef(null);return p.useEffect(()=>{console.log(e);const j=M(t.controls.width,t.controls.height,t.controls.grid.x,t.controls.grid.y),o=w(h.current),f=w(g.current),r=N(t.widgets.buttons,a=>q().id(a.id).value(a.value).actions(a.actions).position(j.position(a.position.x,a.position.y))),z=()=>{d+=T,e=I(i[0],i[1],.01).map(function(a){return{x:a,y:u(a,d)}}),o.select("#gauss").datum(e).attr("d",x)},A=()=>{d=c,e=_(i[0],i[1],.01).map(a=>({x:a,y:u(a,c)})),o.select("#gauss").datum(e).attr("d",x)};function R(a){r[0].value()==1?v=k(z,0):v.stop()}return r[0].update(R),r[1].update(A),f.selectAll(null).data(r).enter().append(F),o.append("g").datum(t.plot.xaxis).attr("class",b.axis).attr("transform",function(a){return"translate(0,"+m(0)+")"}).call(L),o.append("g").datum(t.plot.yaxis).attr("class",b.axis).attr("transform",function(a){return"translate("+y(0)+",0)"}).call(P),o.append("text").text(t.plot.xaxis.label).attr("x",t.plot.xaxis.label_position.x).attr("y",t.plot.xaxis.label_position.y).style("font-size",t.plot.xaxis.fontsize),o.append("text").text(t.plot.yaxis.label).attr("x",t.plot.yaxis.label_position.x).attr("y",t.plot.yaxis.label_position.y).style("font-size",t.plot.yaxis.fontsize),o.append("g").attr("class","grid"),o.append("path").datum(e).attr("d",x).attr("id","gauss").style("stroke","darkred").style("stroke-width",4).style("fill","none"),()=>{f.selectAll("*").remove(),o.selectAll("*").remove()}},[s]),l.jsx(l.Fragment,{children:l.jsxs("div",{ref:n,id:s,className:t.container.class,children:[l.jsx("svg",{ref:h,id:`${s}-display`,className:t.display.class,width:t.display.width,height:t.display.height,viewBox:`0 0 ${t.display.width} ${t.display.height}`}),l.jsx("svg",{ref:g,id:`${s}-controls`,className:t.controls.class,width:t.controls.width,height:t.controls.height,viewBox:`0 0 ${t.controls.width} ${t.controls.height}`})]})})}export{K as default};
